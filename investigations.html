<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EPICAL PD Investigations Handover</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="ops-bar is-collapsed" id="ops-bar">
      <div class="ops-meta">
        <span id="ops-officer">Officer: Unassigned</span>
        <span id="ops-officer-patrol">Officer Patrol: Unset</span>
        <span id="ops-suspects">Suspects: unknown</span>
      </div>
      <div class="ops-grid">
        <div class="ops-cell">
          <span class="ops-label">Top Point</span>
          <span class="ops-value" id="ops-top-point">Awaiting case data</span>
        </div>
        <div class="ops-cell">
          <span class="ops-label">Urgent Action</span>
          <span class="ops-value" id="ops-urgent-action">Awaiting case data</span>
        </div>
        <div class="ops-cell">
          <span class="ops-label">Key Section</span>
          <span class="ops-value" id="ops-key-section">Awaiting case data</span>
        </div>
        <div class="ops-cell">
          <span class="ops-label">Next Step</span>
          <span class="ops-value" id="ops-next-step">Awaiting case data</span>
        </div>
      </div>
      <div class="ops-stamps">
        <div class="ops-stamp-card">
          <span class="ops-stamp-label">Time of Stop</span>
          <div class="ops-stamp-row">
            <button type="button" class="secondary-btn ops-stamp-btn" id="stamp-stop-btn">Stamp UK Time</button>
            <span class="ops-stamp-value" id="stamp-stop-value">Not stamped</span>
          </div>
        </div>
        <div class="ops-stamp-card">
          <span class="ops-stamp-label">Time of Search</span>
          <div class="ops-stamp-row">
            <button type="button" class="secondary-btn ops-stamp-btn" id="stamp-search-btn">Stamp UK Time</button>
            <span class="ops-stamp-value" id="stamp-search-value">Not stamped</span>
          </div>
        </div>
        <div class="ops-stamp-card">
          <span class="ops-stamp-label">Time of Arrest</span>
          <div class="ops-stamp-row">
            <button type="button" class="secondary-btn ops-stamp-btn" id="stamp-arrest-btn">Stamp UK Time</button>
            <span class="ops-stamp-value" id="stamp-arrest-value">Not stamped</span>
          </div>
        </div>
      </div>
      <div class="ops-disclaimer">
        <span>Disclaimer: This is not yet approved for police duty. Test or reference purposes only.</span>
        <button type="button" class="ops-disclaimer-close" aria-label="Dismiss disclaimer">X</button>
      </div>
      <div class="ops-tabs-row">
        <nav class="ops-tabs" aria-label="Assistant Tabs">
          <a class="ops-tab" href="./index.html">Assistant</a>
          <a class="ops-tab is-active" aria-current="page" href="./investigations.html">Investigation</a>
        </nav>
        <div class="ops-tabs-actions">
          <button type="button" id="ops-clear-btn" class="danger-btn">CLEAR</button>
          <button
            type="button"
            id="ops-collapse-btn"
            class="secondary-btn ops-collapse-btn"
            aria-expanded="true"
            aria-label="Collapse top bar"
          >
            Collapse v
          </button>
        </div>
      </div>
    </header>

    <main class="layout investigation-layout">
      <section class="panel">
        <div class="panel-head-row">
          <div>
            <h1>City Computer Arrest Record</h1>
            <p class="sub">Structured custody and investigation continuation</p>
          </div>
          <button type="button" id="theme-toggle" class="secondary-btn">Dark Mode</button>
        </div>
        <div id="case-summary">
          <p class="muted">No case loaded yet. Generate an Action Card first in the main page.</p>
        </div>
      </section>

      <section class="panel">
        <h2>Record Builder</h2>
        <form id="investigation-form">
          <fieldset>
            <legend>Arrest Details</legend>
            <div class="grid">
              <label>
                Arrest Date/Time
                <input type="text" name="arrestTime" id="arrest-time" />
              </label>
              <label>
                Location
                <input type="text" name="arrestLocation" id="arrest-location" placeholder="Arrest location / station" />
              </label>
            </div>
            <div class="grid">
              <label>
                Arresting Officer
                <input type="text" name="arrestingOfficer" placeholder="Officer callsign and name" />
              </label>
              <label>
                Assisting Officers
                <input type="text" name="assistingOfficers" placeholder="Assisting officer callsigns" />
              </label>
            </div>
            <label>
              Warrant Numbers
              <input type="text" name="warrantNumbers" placeholder="Add warrant refs if applicable" />
            </label>
          </fieldset>

          <fieldset>
            <legend>Key Timeline Stamps (UK)</legend>
            <div class="grid stamp-grid">
              <label>
                Time of Stop
                <input type="text" name="timeStop" id="time-stop" placeholder="[DD/MM/YY HH:MM]" />
              </label>
              <label>
                Time of Search
                <input type="text" name="timeSearch" id="time-search" placeholder="[DD/MM/YY HH:MM]" />
              </label>
              <label>
                Time of Arrest
                <input type="text" name="timeArrestEvent" id="time-arrest-event" placeholder="[DD/MM/YY HH:MM]" />
              </label>
            </div>
            <p class="muted">Timeline values are stamped from the Assistant top bar or can be edited here.</p>
          </fieldset>

          <fieldset>
            <legend>Incident and Custody</legend>
            <label>
              Incident Summary
              <textarea name="incidentSummary" rows="5" placeholder="Narrative summary of arrest and timeline..."></textarea>
            </label>
            <div class="grid">
              <label>
                Cell Number
                <input type="text" name="cellNumber" placeholder="Cell reference" />
              </label>
              <label>
                Time in Custody (minutes)
                <input type="number" name="custodyMinutes" min="0" value="60" />
              </label>
            </div>
            <label>
              Suspect Behavior in Custody
              <textarea name="custodyBehavior" rows="2" placeholder="Argumentative, non-compliant, cooperative, etc."></textarea>
            </label>
          </fieldset>

          <fieldset>
            <legend>Evidence and Review</legend>
            <div class="grid">
              <label>
                Bodycam (BVW) Reviewed By
                <input type="text" name="bwvReviewer" placeholder="Reviewing officer / supervisor" />
              </label>
              <label>
                Caution Given
                <select name="cautionGiven">
                  <option value="yes">Yes</option>
                  <option value="no">No</option>
                </select>
              </label>
            </div>
            <label>
              Bodycam (BVW) / Evidence Review Notes
              <textarea name="evidenceReview" rows="3" placeholder="What was reviewed and what decisions were made..."></textarea>
            </label>
            <label>
              Arrest Necessity Reasons (optional override)
              <textarea
                name="arrestReasonOverride"
                rows="2"
                placeholder="Leave blank to use action-card arrest reasons."
              ></textarea>
            </label>
          </fieldset>

          <fieldset>
            <legend>Charges and Outcome</legend>
            <label>
              Charges / Offences
              <textarea name="chargesText" rows="3" placeholder="List offences / charge wording"></textarea>
            </label>
            <div class="grid">
              <label>
                Initial Fine (GBP)
                <input type="number" name="initialFine" min="0" value="0" />
              </label>
              <label>
                Initial Jail (months)
                <input type="number" name="initialJailMonths" min="0" value="0" />
              </label>
            </div>
            <div class="grid">
              <label>
                Final Fine (GBP)
                <input type="number" name="finalFine" min="0" value="0" />
              </label>
              <label>
                Final Jail (months)
                <input type="number" name="finalJailMonths" min="0" value="0" />
              </label>
            </div>
            <label>
              Outcome Authorised By
              <input type="text" name="authorisedBy" placeholder="Authorising officer / supervisor" />
            </label>
          </fieldset>

          <label>
            Additional Investigator Notes
            <textarea name="additionalNotes" rows="3" placeholder="Any further notes for city computer..."></textarea>
          </label>

          <div class="grid">
            <button type="submit">Generate Crime Report</button>
          </div>
        </form>
      </section>

      <section class="panel">
        <div class="panel-head-row">
          <h2>Generated Crime Report</h2>
          <button type="button" id="copy-log" class="secondary-btn">Copy Generated Crime Report</button>
        </div>
        <textarea id="investigation-log" rows="24" readonly></textarea>
      </section>
    </main>

    <script src="./investigations.js"></script>
  </body>
</html>

